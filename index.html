<!DOCTYPE html>
<html>
<head>
    <title>LLM API Tester</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        label, select, input, button {
            display: block;
            margin-bottom: 10px;
        }
        #response {
            margin-top: 20px;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>

    <h1>LLM API Tester</h1>

    <label for="llmType">Select LLM Type:</label>
    <select id="llmType">
        <option value="spark">Spark</option>
        <option value="azure gpt">Azure GPT</option>
    </select>

    <label for="inputStatement">Enter Input Statement:</label>
    <input type="text" id="inputStatement" placeholder="Type your statement here">

    <button id="submitButton">Submit</button>

    <div id="response"></div>

    <script>
        document.getElementById('submitButton').addEventListener('click', function() {
            const llmType = document.getElementById('llmType').value;
            const inputStatement = document.getElementById('inputStatement').value;
            console.log('llmType:', llmType);
            console.log('inputStatement:', inputStatement);
            if (!inputStatement.trim()) {
                alert('Please enter an input statement.');
                return;
            }

            const requestBody = {
                llmType: llmType,
                input_statement: inputStatement
            };

            fetch('https://openai-poc-api-as1.azurewebsites.net/api/langchain/test', {
                method: 'POST',
                body: JSON.stringify(requestBody)
            })
            .then(response => response.json())
            .then(data => {
                const content = data.response.kwargs.content;
                document.getElementById('response').innerText = `Response: ${content}`;
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById('response').innerText = 'An error occurred. Please try again.';
            });
        });
    </script>

</body>
</html>
